<div class="main">
    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" >
      <div class="sub">
        <div>
          <button type="submit" [disabled]="!categoryForm.valid">Save</button>
        </div>
  
        <!-- Category Dropdown -->
        <label for="category">Category</label>
        <select id="category" formControlName="category" (change)="onCategoryChange()">
          <option value="">Select Category</option> 
          <option *ngFor="let category of categories" [value]="category._id">
            {{ category.categoryName }}
          </option>
        </select>
        <div *ngIf="categoryForm.get('category')?.touched && categoryForm.get('category')?.invalid" class="sub">
          Category is required.
        </div>
      </div>
  
      <!-- Subcategory Dropdown -->
      <div>
        <label for="subcategory">Subcategory</label>
        <select id="subcategory" formControlName="subcategory">
          <option value="">Select Subcategory</option>
          <option *ngFor="let subcategory of filteredSubcategories" [value]="subcategory._id">
            {{ subcategory.subcategory }}
          </option>
        </select>
        <div *ngIf="categoryForm.get('subcategory')?.touched && categoryForm.get('subcategory')?.invalid" class="sub">
          Subcategory is required.
        </div>
      </div>

      <div>
        <label for="price">Price</label>
        <select id="price" formControlName="price">
          <option value="">Select price</option>
          <option *ngFor="let price of prices" [value]="price._id">
            {{ price.price }}
          </option>
        </select>
        <div *ngIf="categoryForm.get('subcategory')?.touched && categoryForm.get('subcategory')?.invalid" class="sub">
          Subcategory is required.
        </div>
      </div>

    

      <!-- Topic -->
      <div class="sub">
        <label for="topic">Topic</label>
        <input type="text" id="topic" formControlName="topic" placeholder="Add title">
        <div *ngIf="categoryForm.get('topic')?.touched && categoryForm.get('topic')?.invalid" class="sub">
          Topic is required.
        </div>
      </div>
  
      <!-- About -->
      <div class="sub">
        <label for="about">About</label>
        <textarea rows="3" id="about" formControlName="about" placeholder="Write your review..."></textarea>
        <div *ngIf="categoryForm.get('about')?.touched && categoryForm.get('about')?.invalid" class="sub">
          About is required.
        </div>
      </div>

     
  
      <!-- Video Upload -->
      <div class="sub">
        <label for="video">Video</label>
        <input type="file" id="video" class="form-control" (change)="onFileChange($event)" accept="video/*">
        <div *ngIf="categoryForm.get('video')?.touched && categoryForm.get('video')?.invalid" class="sub">
          Video is required.
        </div>
      </div>
  
      <!-- Preview Image Upload -->
      <div class="sub">
        <label for="sectionImage" class="form-label">Preview Picture</label>
        <input type="file" class="form-control" id="sectionImage" (change)="onImageChange($event)" accept="image/*">
        <div *ngIf="imagePreview" class="mt-2">
          <img [src]="imagePreview" alt="Preview" class="img-fluid" style="max-width: 200px;">
        </div>
      </div>
    </form>
  </div>
  